<!DOCTYPE html>
<html>
	<head>
		<link href="main_style.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Bangers&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Cabin:400i&display=swap" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Miles Anders: Illustration! Design! Adventure!</title>
	</head>
	<body>
		<div id="gallery-modal">
			<div id="button-section">
				<img src="images/x.svg" id="close-btn">
				<a href="#text-section"><img src="images/i.svg" id="info-btn"></a>
			</div>
			<div id="image-section">			
				<img id="gallery-image" src="">
			</div>
			<div id="text-section">	
				<div id="modal-title"></div>
				<div id="modal-description"></div>
			</div>	
		</div>
		
		<div id="main-content">
		<div id="section-hero">
			<div id="hero-text">
				<div id="main-title">Miles Anders</div>
				<div id="sections-menu">
					<a class="main-link" href="#gallery-illustration">Illustration!</a>
					<a class="main-link" href="#gallery-design">Design!</a>
					<a class="main-link" href="#gallery-adventure">Adventure!</a>
				</div>
			</div>
		</div>
		<div id="section-main">
			<!-- <div class="gallery" id="illustration"> -->
				<!-- <div class="gallery-title">Illustration!</div> -->
				<!-- <div class="gallery-content"> -->
					<!-- <div class="gallery-item"><img id="newport-nightcap" class="thumb" src="images/illustration/newport_nightcap_thumb.jpg"></div> -->
					<!-- <div class="gallery-item"><img id="sharks" class="thumb" src="images/illustration/sharks_thumb.jpg"></div> -->
					<!-- <div class="gallery-item"><img id="karaoke1" class="thumb" src="images/illustration/karaoke1_thumb.jpg"></div> -->
					<!-- <div class="gallery-item"><img id="doce-monos" class="thumb" src="images/illustration/doce_monos_thumb.jpg"></div> -->
				<!-- </div> -->
			<!-- </div> -->
			<!-- <div class="gallery" id="design"> -->
				<!-- <div class="gallery-title">Design!</div> -->
				<!-- <div class="gallery-content"> -->
				<!-- </div> -->
			<!-- </div> -->
			<!-- <div class="gallery" id="adventure"> -->
				<!-- <div class="gallery-title">Adventure!</div> -->
				<!-- <div class="gallery-content"> -->
				<!-- </div> -->
			<!-- </div> -->
		</div>
		</div>
		<script>
			
			//cache DOM
			var modal = document.getElementById("gallery-modal");
			var modalBg = document.getElementById("modal-bg");
			var galleryThumbs = document.getElementsByClassName("gallery-item");
			var closeModalBtn = document.getElementById("close-btn");
			var infoBtn = document.getElementById("info-btn");
			var body = document.getElementsByTagName("body")[0];
			var imageSection = document.getElementById("image-section");
			var galleryImage = document.getElementById("gallery-image");
			var textSection = document.getElementById("text-section");
			var modalTitle = document.getElementById("modal-title");
			var modalDescription = document.getElementById("modal-description");			
			var sectionMain = document.getElementById("section-main");
			
			//load xml
			var xmlData;
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					xmlData = this.responseXML;
				}
			};
			xhttp.open("GET", "gallery.xml", true);
			xhttp.send();
			
			//generate thumbnails
			function createThumbnails(){
				let galleryArray = xmlData.getElementsByTagName("gallery");
				for(let i=0; i< galleryArray.length; i++){
					
					let newGallery = document.createElement("div");
					newGallery.id = galleryArray[i].id;
					
					let galleryTitle = galleryArray[i].getElementsByTagName("gallery-title")[0];
					let galleryTitleURLElement = galleryTitle.childNodes[0];
					let galleryTitleValue = galleryTitleURLElement.nodeValue;
					
					let newGalleryTitle = document.createElement("div");
					newGalleryTitle.classList.add("gallery-title");
					newGalleryTitle.innerHTML = galleryTitleValue;
					
					newGallery.appendChild(newGalleryTitle);
					sectionMain.appendChild(newGallery);
				}
				
				//let pieceArray = xmlData.getElementsByTagName("piece");
				<!-- for(let i=0; i< pieceArray.length; i++){ -->
					<!-- let newGalleryItem = document.createElement("div"); -->
					<!-- let newThumbnail = document.createElement("img"); -->
					<!-- newThumbnail.classList.add("thumb"); -->
					<!-- newThumbnail.id = ; -->
					<!-- newThumbnail.src = ; -->
					<!-- newGalleryItem.appendChild(newThumbnail"); -->
				<!-- } -->
			}
			
			//click functions
			
			//add click function to thumbs to open modal
			<!-- for(let i=0; i<galleryThumbs.length; i++){ -->
				<!-- galleryThumbs[i].onclick = function(e) { -->
					<!-- let targetId = e.target.id; -->
					<!-- let pieceArray = xmlData.getElementsByTagName("piece"); -->
					
					<!-- for(let j=0; j< pieceArray.length; j++){ -->
						<!-- let pieceId = pieceArray[j].getAttribute("id"); -->
						<!-- if(targetId == pieceId){ -->
							<!-- // -->
							<!-- let pieceURLElement = pieceArray[j].getElementsByTagName("url")[0]; -->
							<!-- let pieceURLData = pieceURLElement.childNodes[0]; -->
							<!-- let pieceURLValue = pieceURLData.nodeValue; -->
							<!-- // -->
							<!-- let pieceTitleElement = pieceArray[j].getElementsByTagName("title")[0]; -->
							<!-- let pieceTitleData = pieceTitleElement.childNodes[0]; -->
							<!-- let pieceTitleValue = pieceTitleData.nodeValue; -->
							<!-- // -->
							<!-- let pieceDescriptionElement = pieceArray[j].getElementsByTagName("description")[0]; -->
							<!-- let pieceDescriptionData = pieceDescriptionElement.childNodes[0]; -->
							<!-- let pieceDescriptionValue = pieceDescriptionData.nodeValue; -->
							<!-- // -->
							<!-- galleryImage.src = pieceURLValue; -->
							<!-- modalTitle.innerHTML = pieceTitleValue; -->
							<!-- modalDescription.innerHTML = pieceDescriptionValue; -->
						<!-- } -->
					<!-- } -->
					
					<!-- modal.scrollTop = "0"; -->
					<!-- body.classList.toggle("modal-open"); -->
					<!-- modal.classList.toggle("modal-open"); -->
				<!-- } -->
			<!-- } -->
			
			//close modal
			closeModalBtn.onclick = function() {	
				body.classList.toggle("modal-open");
				modal.classList.toggle("modal-open");
				imageSection.classList.remove("fullscreen");
				textSection.classList.remove("fullscreen");
				galleryImage.classList.remove("fullscreen");
				modal.classList.remove("fullscreen");				
			}
			
			//make modal image fullscreen
			galleryImage.onclick = function(){
				imageSection.classList.toggle("fullscreen");
				textSection.classList.toggle("fullscreen");
				galleryImage.classList.toggle("fullscreen");
				modal.classList.toggle("fullscreen");				
			}
			
		</script>
	</body>
</html>